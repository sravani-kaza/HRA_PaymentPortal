{"remainingRequest":"/home/akshaya/Documents/projects/HRA-frontend-app/all-usecases-till-now/node_modules/babel-loader/lib/index.js!/home/akshaya/Documents/projects/HRA-frontend-app/all-usecases-till-now/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/akshaya/Documents/projects/HRA-frontend-app/all-usecases-till-now/src/components/userdashboard/editform/editproperty.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/akshaya/Documents/projects/HRA-frontend-app/all-usecases-till-now/src/components/userdashboard/editform/editproperty.vue","mtime":1541835170092},{"path":"/home/akshaya/Documents/projects/HRA-frontend-app/all-usecases-till-now/node_modules/cache-loader/dist/cjs.js","mtime":1541837368340},{"path":"/home/akshaya/Documents/projects/HRA-frontend-app/all-usecases-till-now/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/akshaya/Documents/projects/HRA-frontend-app/all-usecases-till-now/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { localstore } from '../../../main.js';\nimport axios from 'axios';\nimport { Validator } from 'vee-validate';\n/* eslint-disable */\n\nvar dict = {\n  en: {\n    custom: {}\n  }\n};\nexport default {\n  data: function data() {\n    return {\n      property: {\n        user_id: localstore.details.user_id,\n        property_id: localstore.details.property_id,\n        Property_name: localstore.details.Property_name,\n        Security_deposit_amount: localstore.details.Security_deposit_amount,\n        Rent_amount: localstore.details.Rent_amount,\n        Maintenance_amount: localstore.details.Maintenance_amount,\n        Maintenance_due_date: localstore.details.Maintenance_due_date,\n        Rent_due_date: localstore.details.Rent_due_date,\n        Staying_since: localstore.details.Staying_since,\n        deposit: localstore.details.deposit,\n        Door_number: localstore.details.Door_number,\n        Society: localstore.details.Society,\n        Area: localstore.details.Area,\n        City: localstore.details.City,\n        State: localstore.details.State,\n        Pin: localstore.details.Pin,\n        property_image: localstore.details.property_image,\n        property_image_name: localstore.details.property_image_name\n      },\n      filevalid: true,\n      filevalid_format: true,\n      file_change: 0,\n      imageUpload: 1\n    };\n  },\n  mounted: function mounted() {\n    localstore.user.user_id = JSON.stringify(localStorage.getItem('user_id'));\n    localstore.user.token = JSON.stringify(localStorage.getItem('token'));\n    localstore.user.name = JSON.stringify(localStorage.getItem('name'));\n    localstore.user.email = JSON.stringify(localStorage.getItem('email'));\n    localstore.user.mobile = JSON.stringify(localStorage.getItem('mobile'));\n    localstore.details.user_id = JSON.stringify(localStorage.getItem('user_id'));\n    localstore.details.token = JSON.stringify(localStorage.getItem('token'));\n  },\n  created: function created() {\n    var _this = this;\n\n    this.$validator.extend('notfuture', {\n      getMessage: function getMessage(field) {\n        return 'Enter past date';\n      },\n      validate: function validate(value) {\n        var today = new Date();\n        var dd1 = today.getDate();\n        var mm1 = today.getMonth() + 1;\n        var yyyy1 = today.getFullYear();\n\n        if (dd1 < 10) {\n          dd1 = '0' + dd1;\n        }\n\n        if (mm1 < 10) {\n          mm1 = '0' + mm1;\n        }\n\n        today = dd1 + '/' + mm1 + '/' + yyyy1; //console.log(dd1,mm1,yyyy1)\n\n        var date = _this.property.Staying_since;\n        date = new Date(date);\n        var dd2 = date.getDate();\n        var mm2 = date.getMonth() + 1;\n        var yyyy2 = date.getFullYear();\n\n        if (dd2 < 10) {\n          dd2 = '0' + dd2;\n        }\n\n        if (mm2 < 10) {\n          mm2 = '0' + mm2;\n        }\n\n        date = dd2 + '/' + mm2 + '/' + yyyy2; //console.log(dd2,mm2,yyyy2)\n\n        if (yyyy2 < yyyy1) {\n          //  console.log(0)\n          return 1;\n        } else if (yyyy2 == yyyy1 && mm2 < mm1) {\n          //console.log(1)\n          return 1;\n        } else if (yyyy2 == yyyy1 && mm2 == mm1 && dd2 <= dd1) {\n          //console.log(2)\n          return 1;\n        } else return 0;\n      }\n    }), this.$validator.extend('future', {\n      getMessage: function getMessage(field) {\n        return 'Enter past date';\n      },\n      validate: function validate(value) {\n        var today = new Date();\n        var dd = today.getDate();\n        var mm = today.getMonth() + 1;\n        var yyyy = today.getFullYear();\n\n        if (dd < 10) {\n          dd = '0' + dd;\n        }\n\n        if (mm < 10) {\n          mm = '0' + mm;\n        }\n\n        today = dd + '/' + mm + '/' + yyyy;\n        var date = _this.property.Staying_since;\n        return date > today;\n      }\n    });\n  },\n  methods: {\n    onFileChange: function onFileChange(e) {\n      this.file_change = 1;\n      this.imageUpload = 1;\n      var files = e.target.files || e.dataTransfer.files;\n      if (!files.length) return;\n      if (files[0].size > 500 * 1024) this.filevalid = false;else this.filevalid = true;\n      if (files[0].type != \"application/pdf\" && files[0].type != \"image/png\" && files[0].type != \"image/jpeg\") this.filevalid_format = false;else this.filevalid_format = true;\n      this.createImage(files[0]);\n      this.property.property_image_name = files[0];\n    },\n    createImage: function createImage(file) {\n      var _this2 = this;\n\n      var reader = new FileReader();\n\n      reader.onload = function (e) {\n        _this2.property.property_image = e.target.result;\n      };\n\n      reader.readAsDataURL(file);\n    },\n    submit1: function submit1() {\n      localstore.details.deposit = 'Yes';\n      this.property.deposit = 'Yes';\n    },\n    submit2: function submit2() {\n      localstore.details.deposit = 'No';\n      this.property.deposit = 'No';\n    },\n    validateBeforeSubmit: function validateBeforeSubmit() {\n      var _this3 = this;\n\n      //console.log(JSON.stringify(this.property));\n      var x = this.$el.querySelector('#form1');\n      var valid = true,\n          y = [],\n          i = 0;\n      var self = this;\n      this.$validator.validate('Property name', this.property.Property_name);\n      this.$validator.validate('Securitydeposit', this.property.Security_deposit_amount);\n      this.$validator.validate('Rent amount', this.property.Rent_amount);\n      this.$validator.validate('Maintenance amount', this.property.Maintenance_amount);\n      this.$validator.validate('Rent due date', this.property.Rent_due_date);\n      this.$validator.validate('Maintenance due date', this.property.Maintenance_due_date);\n      this.$validator.validate('Staying since', this.property.Staying_since);\n      this.$validator.validate('Door number', this.property.Door_number);\n      this.$validator.validate('Society', this.property.Society);\n      this.$validator.validate('Area', this.property.Area);\n      this.$validator.validate('City', this.property.City);\n      this.$validator.validate('State', this.property.State);\n      this.$validator.validate('Pin', this.property.Pin);\n      y = x.querySelectorAll('.step_1');\n\n      for (i = 0; i < y.length; i++) {\n        if (y[i].value == \"\" || y[i].classList.contains('invalid')) {\n          valid = false;\n        }\n      }\n\n      if (!valid || !this.filevalid || !this.filevalid_format) {\n        alert(\"Correct the errors\");\n        return false;\n      } else {\n        localstore.details.Property_name = this.property.Property_name;\n        localstore.details.Security_deposit_amount = this.property.Security_deposit_amount;\n        localstore.details.Rent_amount = this.property.Rent_amount;\n        localstore.details.Maintenance_due_date = this.property.Maintenance_due_date;\n        localstore.details.Rent_due_date = this.property.Rent_due_date;\n        localstore.details.Staying_since = this.property.Staying_since;\n        localstore.details.deposit = this.property.deposit;\n        localstore.details.Door_number = this.property.Door_number;\n        localstore.details.Society = this.property.Society;\n        localstore.details.Area = this.property.Area;\n        localstore.details.Maintenance_amount = this.property.Maintenance_amount;\n        localstore.details.City = this.property.City;\n        localstore.details.State = this.property.State;\n        localstore.details.Pin = this.property.Pin;\n        localstore.details.property_image = this.property.property_image;\n        localstore.details.property_image_name = this.property.property_image_name;\n        console.log(JSON.stringify(this.property));\n        axios.put('http://127.0.0.1:8000/api/updateproperty/' + localstore.details.property_id, this.property).then(function (response) {\n          console.log(_this3.property);\n          alert(response);\n          if (response.data.status == \"SUCCESS\") self.$router.push('/propertydetails');\n        }).catch(function (error) {\n          alert(error);\n        });\n      }\n    }\n  }\n};",{"version":3,"sources":["editproperty.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n<div id=\"form1\">\n  <div class=\"mar0_15\">\n    <span class=\"fonweigh700\" style=\"float:right;\"><a><i class=\"fas fa-times\"></i></a></span>\n    <h4 class=\"fonweigh700\">Edit property details</h4>\n    <hr style=\"border-color:#EEEEEE;\">\n  </div>\n<div class=\"mainfomlayout\">\n    <br class=\"hidden-xs\">\n    <form class=\" \" @submit.prevent=\"validateBeforeSubmit\">\n    <div class=\"hrafom1\">\n        <h4 style=\"margin: 0px 15px 20px;\">Property rent details</h4>\n        <div class=\"row marzero0\">\n            <div class=\"col-sm-6\">\n                <div class=\"form-group custrespformgrop\">\n                  <label class=\"lblcustm\" >Property name :</label>\n                  <p>\n                    <input data-vv-validate-on=\"blur\" name=\"Property name\" v-model.trim=\"property.Property_name\"  v-validate=\"{ required: true, regex: /^[A-za-z0-9\\s\\-\\/]+$/ }\" type=\"text\" class=\"form-control step_1\" :class=\"{'invalid': errors.has('Property name')}\">\n                    <span class=\"errormsg\" v-show=\"errors.has('Property name')\">{{ errors.first('Property name') }}</span>\n                  </p>\n                </div>\n            </div>\n            <div class=\"col-sm-6\">\n                <div class=\"form-group custrespformgrop\">\n                  <label class=\"lblcustm\" >Security Deposit Amount:</label>\n                        <p>\n                          <input data-vv-validate-on=\"blur\" name=\"Securitydeposit\"\n                          v-model.trim=\"property.Security_deposit_amount\" v-validate=\"'required|numeric'\" type=\"text\" class=\"form-control step_1\" :class=\"{'invalid': errors.has('Securitydeposit')}\">\n                          <span class=\"errormsg\" v-show=\"errors.has('Securitydeposit')\">{{ errors.first('Securitydeposit') }}</span>\n                        </p>\n                    </div>\n            </div>\n        </div>\n        <div class=\"row marzero0\">\n            <div class=\"col-sm-6\">\n                <div class=\"form-group custrespformgrop\">\n                        <label class=\"lblcustm\" >Rent amount</label>\n                        <p>\n                          <input data-vv-validate-on=\"blur\" name=\"Rent amount\" v-model.trim=\"property.Rent_amount\" v-validate=\"'required|numeric'\" type=\"text\" class=\"form-control step_1\" :class=\"{'invalid': errors.has('Rent amount')}\">\n                          <span class=\"errormsg\" v-show=\"errors.has('Rent amount')\">{{ errors.first('Rent amount') }}\n\n                          </span>\n                        </p>\n                </div>\n            </div>\n            <div class=\"col-sm-6\">\n                <div class=\"form-group custrespformgrop\">\n                        <label class=\"lblcustm\" >Maintenace amount</label>\n                        <p>\n                          <input data-vv-validate-on=\"blur\" name=\"Maintenance amount\" v-model.trim=\"property.Maintenance_amount\" v-validate=\"'required|numeric'\" type=\"text\" class=\"form-control step_1\" :class=\"{'invalid': errors.has('Maintenance amount')}\">\n                          <span class=\"errormsg\" v-show=\"errors.has('Maintenance amount')\">{{ errors.first('Maintenance amount') }}</span>\n                        </p>\n                    </div>\n            </div>\n        </div>\n        <div class=\"row marzero0\">\n            <div class=\"col-sm-6\">\n                <div class=\"form-group custrespformgrop\">\n                        <label class=\"lblcustm\" >Rent due date</label>\n                        <p>\n                          <input data-vv-validate-on=\"blur\" placeholder=\"DD\" name=\"Rent due date\" v-model.trim=\"property.Rent_due_date\"  v-validate=\"'required|integer|max_value:31|min_value:1'\" type=\"text\" class=\"form-control step_1\" :class=\"{'invalid': errors.has('Rent due date')}\">\n                          <span class=\"errormsg\" v-show=\"errors.has('Rent due date')\">{{ errors.first('Rent due date') }}</span>\n                        </p>\n                </div>\n            </div>\n            <div class=\"col-sm-6\">\n                <div class=\"form-group custrespformgrop\">\n                        <label class=\"lblcustm\" >Maintenace due date</label>\n                        <p>\n                          <input data-vv-validate-on=\"blur\" placeholder=\"DD\" name=\"Maintenance due date\" v-model.trim=\"property.Maintenance_due_date\"  v-validate=\"'required|integer|max_value:31|min_value:1'\" type=\"text\" class=\"form-control step_1\" :class=\"{'invalid': errors.has('Maintenance due date')}\">\n                          <span class=\"errormsg\" v-show=\"errors.has('Maintenance due date')\">{{ errors.first('Maintenance due date') }}</span>\n                        </p>\n                    </div>\n            </div>\n        </div>\n        <div class=\"row marzero0\">\n            <div class=\"col-sm-6\">\n                <div class=\"form-group custrespformgrop\">\n                        <label class=\"lblcustm\" >Staying since</label>\n                        <p>\n                          <input data-vv-validate-on=\"blur\" placeholder=\"DD/MM/YYYY\" name=\"Staying since\" v-model.trim=\"property.Staying_since\" v-validate=\"'required|date_format:DD/MM/YYYY|notfuture'\" type=\"date\" class=\"form-control step_1\" :class=\"{'invalid': errors.has('Staying since')}\">\n                          <span class=\"errormsg\" v-show=\"errors.has('Staying since')\">{{ errors.first('Staying since') }}</span>\n                        </p>\n                </div>\n            </div>\n            <div class=\"col-sm-6\">\n                <div class=\"form-group custrespformgrop\"><br>\n                       <label class=\"lblcustm\" >Are you paid security deposit?</label>\n\n\n                        <input type=\"radio\" id=\"sec1\" name=\"deposit\" v-model=\"property.deposit\" value=\"Yes\" v-on:change=\"submit1\">\n\n                        <label class=\"radiolabel\" for=\"sec1\"><span><span></span></span>Yes</label>\n\n                        <input type=\"radio\" id=\"sec2\" name=\"deposit\" v-model=\"property.deposit\" value=\"No\" v-on:change=\"submit2\">\n                        <label class=\"radiolabel\" for=\"sec2\"><span><span></span></span>No</label>\n                    </div>\n            </div>\n        </div>\n        <div class=\"row marzero0\">\n            <div class=\"col-sm-6\">\n                <div class=\"form-group custrespformgrop\">\n                        <label class=\"lblcustm\" >Upload property image </label>\n                        <div class=\"file-drop-area\">\n                            <!-- <span class=\"fake-btn\">Choose files</span> -->\n                            <span class=\"file-msg js-set-number\" style=\"color:#808080;font-size:16px\">Click or Drop files <span style=\"color:#0071bc;\">here</span></span>\n                            <input class=\"file-input\" type=\"file\" v-on:change=\"onFileChange\">\n                        </div>\n                        <div v-show=\"imageUpload===1\"> <small><p>File Uploaded </p></small> </div>\n                        <div class=\"errormsg\" v-show=\"filevalid==false\"><b>File uploaded has exceeded size limit </b></div>\n                        <div class=\"errormsg\" v-show=\"filevalid_format==false\"><b>File uploaded is not of the format jpg/png/pdf/jpeg</b></div>\n                        <small>jpg/png/pdf files with a size less than 500kb</small>\n                </div>\n            </div>\n        </div>\n        <h4 style=\"margin: 0px 15px 20px;\">Address details</h4>\n        <div class=\"row marzero0\">\n            <div class=\"col-sm-6\">\n                <div class=\"form-group custrespformgrop\">\n                        <label class=\"lblcustm\" >Door number</label>\n                        <p>\n                          <input data-vv-validate-on=\"blur\" name=\"Door number\" v-model.trim=\"property.Door_number\" v-validate=\"{ required: true, regex: /^[A-za-z0-9\\s\\-\\/]+$/ }\" type=\"text\" class=\"form-control step_1\" :class=\"{'invalid': errors.has('Door number')}\">\n                          <span class=\"errormsg\" v-show=\"errors.has('Door number')\">{{ errors.first('Door number') }}</span>\n                        </p>\n                </div>\n            </div>\n            <div class=\"col-sm-6\">\n                <div class=\"form-group custrespformgrop\">\n                        <label class=\"lblcustm\" >Society</label>\n                        <p>\n                          <input data-vv-validate-on=\"blur\" name=\"Society\" v-model.trim=\"property.Society\" v-validate=\"{ required: true, regex: /^[A-za-z0-9\\s\\-\\/]+$/ }\" type=\"text\" class=\"form-control step_1\" :class=\"{'invalid': errors.has('Society')}\">\n                          <span class=\"errormsg\" v-show=\"errors.has('Society')\">{{ errors.first('Society') }}</span>\n                        </p>\n                    </div>\n            </div>\n        </div>\n        <div class=\"row marzero0\">\n            <div class=\"col-sm-6\">\n                <div class=\"form-group custrespformgrop\">\n                        <label class=\"lblcustm\" >Area :</label>\n                        <p>\n                          <input data-vv-validate-on=\"blur\" name=\"Area\" v-model.trim=\"property.Area\" v-validate=\"{ required: true, regex: /^[A-za-z0-9\\s\\-\\/]+$/ }\" type=\"text\" class=\"form-control step_1\" :class=\"{'invalid': errors.has('Area')}\">\n                          <span class=\"errormsg\" v-show=\"errors.has('Area')\">{{ errors.first('Area') }}</span>\n                        </p>\n                </div>\n            </div>\n            <div class=\"col-sm-6\">\n                <div class=\"form-group custrespformgrop\">\n                        <label class=\"lblcustm\" >City :</label>\n                        <p>\n                          <input data-vv-validate-on=\"blur\" name=\"City\" v-model.trim=\"property.City\" v-validate=\"{ required: true, regex: /^[A-za-z0-9\\s\\-\\/]+$/ }\" type=\"text\" class=\"form-control step_1\" :class=\"{'invalid': errors.has('City')}\">\n                          <span class=\"errormsg\" v-show=\"errors.has('City')\">{{ errors.first('City') }}</span>\n                        </p>\n                    </div>\n            </div>\n        </div>\n        <div class=\"row marzero0\">\n            <div class=\"col-sm-6\">\n                <div class=\"form-group custrespformgrop\">\n                        <label class=\"lblcustm\" >State :</label>\n                        <p>\n                          <input data-vv-validate-on=\"blur\" name=\"State\" v-model.trim=\"property.State\" v-validate=\"{ required: true, regex: /^[A-za-z\\s\\-\\/]+$/ }\" type=\"text\" class=\"form-control step_1\" :class=\"{'invalid': errors.has('State')}\">\n                          <span class=\"errormsg\" v-show=\"errors.has('State')\">{{ errors.first('State') }}</span>\n                        </p>\n                </div>\n            </div>\n            <div class=\"col-sm-6\">\n                <div class=\"form-group custrespformgrop\">\n                        <label class=\"lblcustm\" >Pin :</label>\n                        <p>\n                          <input data-vv-validate-on=\"blur\" placeholder=\"xxxxxx\" name=\"Pin\" v-model.trim=\"property.Pin\" v-validate=\"'required|digits:6'\" type=\"text\" class=\"form-control step_1\" :class=\"{'invalid': errors.has('Pin')}\">\n                          <span class=\"errormsg\" v-show=\"errors.has('Pin')\">{{ errors.first('Pin') }}</span>\n                        </p>\n                    </div>\n            </div>\n        </div>\n        <div class=\"row marzero0\" style=\"margin-bottom:20px;\">\n            <div class=\"maxbtnwid pull-right\">\n            <div class=\"col-xs-6\"><button type=\"submit\" class=\"btn btn-info custbtnn\">Update</button></div>\n            <router-link class=\"link\" :to=\"{ name: 'propertydetails' }\"><div class=\"col-xs-6\"><button type=\"button\" class=\"btn btn-info custbtnn2\">Cancel</button></div></router-link>\n            </div>\n        </div>\n    </div>\n    <hr style=\"border-color:#EEEEEE;\">\n    <p style=\"font-size:12px;color:#B0BEC5;text-align:center;\">© Copyright 2015-2018 Paymatrix. All Rights Reserved.</p>\n    </form>\n</div>\n</div>\n</div>\n</template>\n\n<script>\nimport {localstore} from '../../../main.js'\nimport axios from 'axios'\nimport {Validator} from 'vee-validate'\n\n/* eslint-disable */\n\n  const dict = {\n    en: {\n      custom: {\n}\n}\n};\n\n\nexport default {\n    data(){\n      return {\n        property:{\n          user_id:localstore.details.user_id,\n          property_id : localstore.details.property_id,\n          Property_name : localstore.details.Property_name,\n          Security_deposit_amount : localstore.details.Security_deposit_amount,\n          Rent_amount : localstore.details.Rent_amount,\n          Maintenance_amount : localstore.details.Maintenance_amount,\n          Maintenance_due_date : localstore.details.Maintenance_due_date,\n          Rent_due_date : localstore.details.Rent_due_date,\n          Staying_since : localstore.details.Staying_since,\n          deposit : localstore.details.deposit,\n          Door_number : localstore.details.Door_number,\n          Society : localstore.details.Society,\n          Area : localstore.details.Area,\n          City : localstore.details.City,\n          State : localstore.details.State,\n          Pin : localstore.details.Pin,\n          property_image : localstore.details.property_image,\n          property_image_name : localstore.details.property_image_name\n        },\n        filevalid:true,\n        filevalid_format:true,\n        file_change:0,\n        imageUpload:1\n     };\n   },\n   mounted(){\n     localstore.user.user_id = JSON.stringify(localStorage.getItem('user_id'));\n     localstore.user.token = JSON.stringify(localStorage.getItem('token'));\n     localstore.user.name = JSON.stringify(localStorage.getItem('name'));\n     localstore.user.email = JSON.stringify(localStorage.getItem('email'));\n     localstore.user.mobile = JSON.stringify(localStorage.getItem('mobile'));\n     localstore.details.user_id = JSON.stringify(localStorage.getItem('user_id'));\n     localstore.details.token = JSON.stringify(localStorage.getItem('token'));\n   },\n   created(){\n     this.$validator.extend('notfuture',{\n       getMessage: field => 'Enter past date',\n       validate: value => {\n         var today = new Date();\n         var dd1 = today.getDate();\n         var mm1 = today.getMonth()+1;\n         var yyyy1 = today.getFullYear();\n\n         if(dd1<10) {\n           dd1 = '0'+dd1\n         }\n\n         if(mm1<10) {\n           mm1 = '0'+mm1\n         }\n\n         today = dd1 + '/' + mm1 + '/' + yyyy1;\n         //console.log(dd1,mm1,yyyy1)\n\n         var date = this.property.Staying_since;\n         date = new Date(date)\n         var dd2 = date.getDate();\n         var mm2 = date.getMonth()+1;\n         var yyyy2 = date.getFullYear();\n\n         if(dd2<10) {\n           dd2 = '0'+dd2\n         }\n\n         if(mm2<10) {\n           mm2 = '0'+mm2\n         }\n\n         date = dd2 + '/' + mm2 + '/' + yyyy2;\n\n         //console.log(dd2,mm2,yyyy2)\n\n         if (yyyy2 < yyyy1)\n         {\n         //  console.log(0)\n           return 1;\n         }\n         else if (yyyy2 == yyyy1 && mm2 < mm1)\n         { //console.log(1)\n           return 1;}\n         else if (yyyy2 == yyyy1 && mm2 == mm1 && dd2 <= dd1)\n         {//console.log(2)\n           return 1;}\n         else\n           return 0;\n       }\n     }),\n     this.$validator.extend('future',{\n       getMessage: field => 'Enter past date',\n       validate: value => {\n         var today = new Date();\n         var dd = today.getDate();\n         var mm = today.getMonth()+1;\n         var yyyy = today.getFullYear();\n\n         if(dd<10) {\n           dd = '0'+dd\n         }\n\n         if(mm<10) {\n           mm = '0'+mm\n         }\n\n         today = dd + '/' + mm + '/' + yyyy;\n\n         var date = this.property.Staying_since;\n\n         return date > today;\n       }\n     })\n   },\n    methods: {\n\n          onFileChange(e) {\n                this.file_change=1;\n                this.imageUpload=1;\n                let files = e.target.files || e.dataTransfer.files;\n                  if (!files.length)\n                        return;\n                  if(files[0].size > 500 * 1024)\n                    this.filevalid=false;\n                  else\n                    this.filevalid=true;\n                  if(files[0].type!=\"application/pdf\" && files[0].type!=\"image/png\" && files[0].type!=\"image/jpeg\")\n                    this.filevalid_format=false;\n                  else\n                    this.filevalid_format=true;\n                  this.createImage(files[0]);\n                  this.property.property_image_name=files[0];\n              },\n          createImage(file) {\n            let reader = new FileReader();\n            reader.onload = (e) => {\n                this.property.property_image = e.target.result;\n            };\n            reader.readAsDataURL(file);\n          },\n          submit1(){\n            localstore.details.deposit='Yes';\n            this.property.deposit='Yes';\n          },\n          submit2(){\n            localstore.details.deposit='No';\n            this.property.deposit='No';\n          },\n\n\n          validateBeforeSubmit() {\n            //console.log(JSON.stringify(this.property));\n            var x = this.$el.querySelector('#form1');\n\n            var valid = true, y=[], i=0;\n            let self = this;\n\n            this.$validator.validate('Property name', this.property.Property_name);\n            this.$validator.validate('Securitydeposit', this.property.Security_deposit_amount);\n            this.$validator.validate('Rent amount', this.property.Rent_amount);\n            this.$validator.validate('Maintenance amount', this.property.Maintenance_amount);\n            this.$validator.validate('Rent due date', this.property.Rent_due_date);\n            this.$validator.validate('Maintenance due date', this.property.Maintenance_due_date);\n            this.$validator.validate('Staying since', this.property.Staying_since);\n            this.$validator.validate('Door number', this.property.Door_number);\n            this.$validator.validate('Society', this.property.Society);\n            this.$validator.validate('Area', this.property.Area);\n            this.$validator.validate('City', this.property.City);\n            this.$validator.validate('State', this.property.State);\n            this.$validator.validate('Pin', this.property.Pin);\n\n            y = x.querySelectorAll('.step_1');\n\n            for(i=0; i<y.length;i++){\n            if(y[i].value == \"\" || y[i].classList.contains('invalid')){\n             valid = false;\n            }\n            }\n\n            if(!valid || !this.filevalid || !this.filevalid_format){\n               alert(\"Correct the errors\");\n               return false;\n            }\n            else{\n              localstore.details.Property_name=this.property.Property_name;\n              localstore.details.Security_deposit_amount=this.property.Security_deposit_amount;\n              localstore.details.Rent_amount=this.property.Rent_amount;\n              localstore.details.Maintenance_due_date=this.property.Maintenance_due_date;\n              localstore.details.Rent_due_date=this.property.Rent_due_date;\n              localstore.details.Staying_since=this.property.Staying_since;\n              localstore.details.deposit=this.property.deposit;\n              localstore.details.Door_number=this.property.Door_number;\n              localstore.details.Society=this.property.Society;\n              localstore.details.Area=this.property.Area;\n              localstore.details.Maintenance_amount=this.property.Maintenance_amount;\n              localstore.details.City=this.property.City;\n              localstore.details.State=this.property.State;\n              localstore.details.Pin=this.property.Pin;\n              localstore.details.property_image=this.property.property_image;\n              localstore.details.property_image_name=this.property.property_image_name;\n              console.log(JSON.stringify(this.property));\n              axios.put('http://127.0.0.1:8000/api/updateproperty/'+localstore.details.property_id,this.property)\n                  .then((response) => {\n                    console.log(this.property)\n                    alert(response);\n                    if(response.data.status==\"SUCCESS\")\n                      self.$router.push('/propertydetails');\n                  })\n                  .catch((error) => {\n                      alert(error);\n                  })\n            }\n            }\n        }\n   }\n\n\n</script>\n\n<!-- Add \"scoped\" attribute toclass=\"errormsg\"  limit CSS to this component only -->\n<style>\ninput.invalid{\n  border: 1px solid red !important;\n}\n\n.errormsg {\n  color: red\n}\n</style>\n"],"sourceRoot":"src/components/userdashboard/editform"}]}