{"remainingRequest":"/home/akshaya/Documents/projects/HRA-frontend-app/all-usecases-till-now/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/akshaya/Documents/projects/HRA-frontend-app/all-usecases-till-now/src/components/userdashboard/editform/editagreement.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/akshaya/Documents/projects/HRA-frontend-app/all-usecases-till-now/src/components/userdashboard/editform/editagreement.vue","mtime":1541838775612},{"path":"/home/akshaya/Documents/projects/HRA-frontend-app/all-usecases-till-now/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/akshaya/Documents/projects/HRA-frontend-app/all-usecases-till-now/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/akshaya/Documents/projects/HRA-frontend-app/all-usecases-till-now/node_modules/postcss-loader/lib/index.js","mtime":499162500000},{"path":"/home/akshaya/Documents/projects/HRA-frontend-app/all-usecases-till-now/node_modules/cache-loader/dist/cjs.js","mtime":1541837368340},{"path":"/home/akshaya/Documents/projects/HRA-frontend-app/all-usecases-till-now/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ninput.invalid{\n  border: 1px solid red !important;\n}\n.errormsg {\n  color: red\n}\n",{"version":3,"sources":["editagreement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmLA;AACA;AACA;AACA;AACA;AACA","file":"editagreement.vue","sourceRoot":"src/components/userdashboard/editform","sourcesContent":["<template>\n  <div>\n<div id=\"form3\">\n    <div class=\"mar0_15\">\n    <span class=\"fonweigh700\" style=\"float:right;\"><a><i class=\"fas fa-times\"></i></a></span>\n    <h4 class=\"fonweigh700\">Edit Agreement Details</h4>\n    <hr style=\"border-color:#EEEEEE;\">\n  </div>\n<div class=\"mainfomlayout\">\n    <div class=\"row\" style=\"margin-top:10px;font-family: 'Roboto', sans-serif;\">\n        <form @submit.prevent=\"sendDatas\">\n        <div class=\"hrafom3\">\n        <h4 style=\"margin: 0px 15px 20px;\">Share your rent agreement with us</h4>\n        <div class=\"row marzero0\">\n            <div class=\"col-sm-12\">\n                <div class=\"form-group custrespformgrop\">\n                        <label class=\"lblcustm\" >Start date of an agreement</label>\n                        <p>\n                          <input data-vv-validate-on=\"blur\" name=\"startdate agreement\" type=\"date\" v-model.trim=\"agreement.startdate_agreement\" v-validate=\"'required|date_format:DD/MM/YYYY'\" class=\"form-control step_3\" ref=\"startdate\" :class=\"{'invalid': errors.has('startdate agreement')}\">\n                          <span class=\"errormsg\" v-show=\"errors.has('startdate agreement')\">{{ errors.first('startdate agreement') }}</span>\n                        </p>\n                </div>\n            </div>\n        </div>\n        <div class=\"row marzero0\">\n            <div class=\"col-sm-12\">\n                <div class=\"form-group custrespformgrop\">\n                        <label class=\"lblcustm\" >End date of an agreement</label>\n                        <p>\n                          <input data-vv-validate-on=\"blur\" name=\"enddate agreement\" type=\"date\" v-model.trim=\"agreement.enddate_agreement\" v-validate=\"'required|date_format:DD/MM/YYYY|after:startdate'\" class=\"form-control step_3\" :class=\"{'invalid': errors.has('enddate agreement')}\">\n                          <span class=\"errormsg\" v-show=\"errors.has('enddate agreement')\">{{ errors.first('enddate agreement') }}</span>\n                        </p>\n                </div>\n            </div>\n        </div>\n        <div class=\"row marzero0\">\n            <div class=\"col-sm-12\">\n                <div class=\"form-group custrespformgrop\">\n                        <label class=\"lblcustm\" >Upload rent agreement</label>\n                        <div class=\"file-drop-area\">\n                            <!-- <span class=\"fake-btn\">Choose files</span> -->\n                            <span class=\"file-msg js-set-number\" style=\"color:#808080;font-size:16px\">Click or Drop files <span style=\"color:#0071bc;\">here</span></span>\n                            <input class=\"file-input\" type=\"file\" v-on:change=\"onFileChange\" multiple required>\n                        </div>\n                        <div v-show=\"imageUpload===1\"> <small><p>File Uploaded </p></small> </div>\n                        <div class=\"errormsg\" v-show=\"filevalid==false\"><b>File uploaded has exceeded size limit </b></div>\n                        <div class=\"errormsg\" v-show=\"filevalid_format==false\"><b>File uploaded is not of the format jpg/png/pdf/jpeg</b></div>\n                        <small>jpg/png/pdf files with a size less than 500kb</small>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"row marzero0\" style=\"margin-bottom:20px;\">\n            <div class=\"maxbtnwid\">\n            <div class=\"col-xs-6\"><button type=\"submit\" class=\"btn btn-info custbtnn\">Update</button></div>\n            <router-link class=\"link\" :to=\"{ name: 'propertydetails' }\"><div class=\"col-xs-6\"><button type=\"button\" class=\"btn btn-info custbtnn2\">Cancel</button></div></router-link>\n            </div>\n        </div>\n    </div>\n</form>\n    </div>\n     <hr style=\"border-color:#EEEEEE;\">\n    <p style=\"font-size:12px;color:#B0BEC5;text-align:center;\">Â© Copyright 2015-2018 Paymatrix. All Rights Reserved.</p>\n</div>\n</div>\n</div>\n</template>\n\n<script>\nimport {localstore} from '../../../main.js'\nimport axios from 'axios'\nimport {Validator} from 'vee-validate'\n\n/* eslint-disable */\n\n  const dict = {\n    en: {\n      custom: {\n}\n}\n};\n\nexport default {\n    data(){\n      return {\n        imageUpload:0,\n        filevalid:true ,\n        filevalid_format: true,\n        file_change:0,\n        agreement:{\n          user_id:localstore.details.user_id,\n          startdate_agreement : localstore.details.startdate_agreement,\n          enddate_agreement : localstore.details.enddate_agreement,\n          rent_agreement : localstore.details.rent_agreement,\n          rent_agreement_name : localstore.details.rent_agreement_name\n        }\n     };\n    },\n    mounted(){\n    localstore.user.user_id = JSON.stringify(localStorage.getItem('user_id'));\n    localstore.user.token = JSON.stringify(localStorage.getItem('token'));\n    localstore.user.name = JSON.stringify(localStorage.getItem('name'));\n    localstore.user.email = JSON.stringify(localStorage.getItem('email'));\n    localstore.user.mobile = JSON.stringify(localStorage.getItem('mobile'));\n    localstore.details.user_id = JSON.stringify(localStorage.getItem('user_id'));\n    localstore.details.token = JSON.stringify(localStorage.getItem('token'));\n    },\n    methods:{\n    onFileChange(e) {\n          this.file_change=1;\n          this.imageUpload=1;\n          let files = e.target.files || e.dataTransfer.files;\n            if (!files.length)\n                  return;\n            if(files[0].size > 500 * 1024)\n              this.filevalid=false;\n            else\n              this.filevalid=true;\n            if(files[0].type!=\"application/pdf\" && files[0].type!=\"image/png\" && files[0].type!=\"image/jpeg\")\n              this.filevalid_format=false;\n            else\n              this.filevalid_format=true;\n            this.createImage(files[0]);\n            this.agreement.rent_agreement_name=files[0];\n        },\n        createImage(file) {\n          let reader = new FileReader();\n          reader.onload = (e) => {\n              this.agreement.rent_agreement = e.target.result;\n          };\n          reader.readAsDataURL(file);\n        },\n        sendDatas() {\n          var x = this.$el.querySelector('#form3');\n          var valid = true, y=[], i=0;\n          let self = this;\n\n          this.$validator.validate('startdate agreement', this.agreement.startdate_agreement);\n          this.$validator.validate('enddate agreement', this.agreement.enddate_agreement);\n\n          y = x.querySelectorAll('.step_3');\n\n          for(i=0; i<y.length;i++){\n            console.log(\"in\")\n          if(y[i].value == \"\" || y[i].classList.contains('invalid')){\n\n           valid = false;\n          }\n          }\n          console.log(valid)\n          if(!valid){\n             alert(\"Correct the errors\");\n          return false;\n          }else{\n            localstore.details.startdate_agreement=this.agreement.startdate_agreement,\n            localstore.details.enddate_agreement=this.agreement.enddate_agreement,\n            localstore.details.rent_agreement=this.agreement.rent_agreement,\n            localstore.details.rent_agreement_name=this.agreement.rent_agreement_name,\n            console.log(localstore);\n            if(!this.file_change)\n            {\n              this.property.pan_doc='';\n              localstore.details.pan_doc=''\n            }\n            axios.put('http://127.0.0.1:8000/api/updatedocuments/'+localstore.details.landlord_id+'/'+localstore.details.property_id,this.agreement)\n                .then((response) => {\n                  alert(response);\n                  if(response.data.status==\"SUCCESS\")\n                   self.$router.push('/propertydetails');\n                })\n                .catch((error) => alert(error))\n          }\n     },\n    }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\ninput.invalid{\n  border: 1px solid red !important;\n}\n.errormsg {\n  color: red\n}\n</style>\n"]}]}