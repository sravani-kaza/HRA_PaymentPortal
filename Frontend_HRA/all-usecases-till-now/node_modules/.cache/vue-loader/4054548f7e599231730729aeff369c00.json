{"remainingRequest":"/home/akshaya/Documents/projects/HRA-frontend-app/all-usecases-till-now/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/akshaya/Documents/projects/HRA-frontend-app/all-usecases-till-now/src/components/userdashboard/property/propertysummary.vue?vue&type=style&index=0&id=0a7a23ad&scoped=true&lang=css&","dependencies":[{"path":"/home/akshaya/Documents/projects/HRA-frontend-app/all-usecases-till-now/src/components/userdashboard/property/propertysummary.vue","mtime":1541835170092},{"path":"/home/akshaya/Documents/projects/HRA-frontend-app/all-usecases-till-now/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/akshaya/Documents/projects/HRA-frontend-app/all-usecases-till-now/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/akshaya/Documents/projects/HRA-frontend-app/all-usecases-till-now/node_modules/postcss-loader/lib/index.js","mtime":499162500000},{"path":"/home/akshaya/Documents/projects/HRA-frontend-app/all-usecases-till-now/node_modules/cache-loader/dist/cjs.js","mtime":1541837368340},{"path":"/home/akshaya/Documents/projects/HRA-frontend-app/all-usecases-till-now/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n .marcustradio{\n    margin-left: 0px;\n    margin-right: 20px;\n }\ninput[type=radio]:checked + label{\n    color: #0071bc;\n    font-weight: 600;\n}\n.summarybox{\n    border: 1px solid #D5D5D5;\n    padding: 10px;\n}\n.summaryul{\n    padding-left: 0px;\n    list-style: none;\n}\n.summaryul li{\n    line-height: 36px;\n}\n.summaryleft{\n    float: left;\n    width: 50%;\n    text-align: left;\n    word-break: break-word;\n}\n.summaryright{\n    float: right;\n    width: 48%;\n    text-align: right;\n}\n.fon18{\n    font-size: 18px;\n}\n.drcclr{\n    color: #546E7A;\n}\n",{"version":3,"sources":["propertysummary.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"propertysummary.vue","sourceRoot":"src/components/userdashboard/property","sourcesContent":["<template>\n<div>\n      <div class=\"header\">\n          <h4 class=\"title\">Payment summary</h4>\n          <hr style=\"border-color:#EEEEEE;margin: 15px 0px 0px;\">\n        </div>\n        <form action=\"http://127.0.0.1:8000/api/checktransaction/\"  method=\"post\" enctype=\"multipart/form-data\">\n        <div class=\"content\">\n            <div class=\"row marzeros\">\n                <div class=\"col-sm-7\">\n                  \n                    <div class=\"col-sm-12\">\n                        <div class=\"form-group\">\n                            <label class=\"lblcustm\" >Select the type of payment?</label><br>\n                            <input type=\"radio\" id=\"option1\" name=\"mode_of_payment\" value=\"Rent\" v-on:change=\"type1\"> \n                            <label class=\"radiolabel marcustradio\" for=\"option1\"><span><span></span></span>Rent</label>\n                            <input type=\"radio\" id=\"option2\" name=\"mode_of_payment\" value=\"RentDeposit\" v-on:change=\"type2\">\n                            <label class=\"radiolabel marcustradio\" for=\"option2\"><span><span></span></span>Rent Deposit</label>\n                            <input type=\"radio\" id=\"option3\" name=\"mode_of_payment\" value=\"Maintenance\" v-on:change=\"type3\">\n                            <label class=\"radiolabel marcustradio\" for=\"option3\"><span><span></span></span>Maintenance</label>\n                        </div>\n                    </div>\n                    <div class=\"col-sm-12\"  style=\"max-width: 340px;\">\n                        <label class=\"lblcustm\" >Select month and year</label><br>\n                        <div class=\"row form-group\">\n                        <div class=\"col-sm-6\">\n                            <select class=\"form-control\" id=\"sel1\" v-model.trim=\"transaction.month\" name=\"month\">\n                                <option>{{new Date().getMonth() }}</option>\n                                <option>{{new Date().getMonth() + 1}}</option>\n                                <option>{{new Date().getMonth() + 2}}</option>\n\n                            </select>\n                        </div>\n                        <div class=\"col-sm-6\">\n                            <select class=\"form-control\" id=\"sel1\" v-model.trim=\"transaction.year\" name=\"year\">\n                                <option>{{ new Date().getFullYear() - 1}}</option>\n                                <option>{{ new Date().getFullYear() }}</option>\n                                <option>{{ new Date().getFullYear() + 1}}</option>\n                            </select>\n                        </div>\n                        </div>\n                        <div class=\"row marzeros\">\n                            <div  v-show=\"types1==1\" class=\"form-group\">\n                             <label class=\"lblcustm\" >Rent amount</label>\n                            <input type=\"text\" class=\"form-control\" v-model.trim=\"transaction.rent_amount\" placeholder=\"Monthly rent\" v-on:change=\"pan_need\" name=\"rent_amount\">\n                            </div>\n                            <div  v-show=\"types2==1\" class=\"form-group\">\n                             <label class=\"lblcustm\" >Rent amount</label>\n                            <input type=\"text\" class=\"form-control\" v-model.trim=\"transaction.rent_amount\" placeholder=\"Monthly rent\" v-on:change=\"pan_need\" name=\"rent_amount\">\n                            </div>\n                            <div v-show=\"types3==1\" class=\"form-group\">\n                             <label class=\"lblcustm\" >Rent amount</label>\n                            <input type=\"text\" class=\"form-control\" v-model.trim=\"transaction.rent_amount\" placeholder=\"Monthly rent\" v-on:change=\"pan_need\" name=\"rent_amount\">\n                            </div>\n                        </div>\n                        <div v-show=\"pan_doc_need==1\" >\n                          <div class=\"row marzeros\">\n                                  <div class=\"form-group \">\n                                          <label class=\"lblcustm\" >Tenant PAN number</label>\n                                          <p>\n                                            <input  name=\"Tenant PAN number\" class=\"form-control\" v-model.trim=\"transaction.tenant_PAN_Number\" type=\"text\">\n                                          </p>\n                                  </div>\n                          </div>\n                          <div class=\"row marzero0\">\n                                  <div class=\"form-group custrespformgrop\">\n                                          <label class=\"lblcustm\" >Upload landlord PAN</label>\n                                          <div class=\"file-drop-area\">\n                                              <!-- <span class=\"fake-btn\">Choose files</span> -->\n                                              <span class=\"file-msg js-set-number\" style=\"color:#808080;font-size:16px\">Click or Drop files <span style=\"color:#0071bc;\">here</span></span>\n                                              <input class=\"file-input\" type=\"file\" name=\"property.pan_doc_name\" v-on:change=\"onFileChange\">\n                                          </div>\n                                          <div v-show=\"imageUpload===1\"> <small><p>File Uploaded </p></small> </div>\n                                          <div v-show=\"filevalid==false\"><b>File uploaded has exceeded size limit </b></div>\n                                          <div v-show=\"filevalid_format==false\"><b>File uploaded is not of the format jpg/png/pdf/jpeg</b></div>\n                                          <small>jpg/png/pdf files with a size less than 500kb</small>\n                                  </div>\n                              \n                          </div>\n                        </div>  \n                         <div class=\"row marzeros\">\n                            <div class=\"form-group\">\n                             <label class=\"lblcustm\" >Remarks</label>\n                           <textarea class=\"form-control\" v-model.trim=\"transaction.remarks\" rows=\"2\" id=\"comment\" name=\"remarks\"></textarea>\n                            </div>\n                        </div>\n                        <div class=\"row marzeros\"><br>\n                            <p class=\"fon18 drcclr\">Landlord Details:</p>\n                            <p class=\" drcclr\">Landlord name : {{property.Landlord_name}}</p>\n                            <p class=\" drcclr\">Last date for rent : {{property.Rent_due_date}}</p>\n                        </div>\n                    </div>\n                    <input type=\"hidden\" name=\"landlord_id\" v-model=\"transaction.landlord_id\">\n                    <input type=\"hidden\" name=\"property_id\" v-model=\"transaction.property_id\">\n                </div>\n                <div class=\"col-sm-5\">\n                    <div class=\"summarybox\">\n                        <p class=\"clrdrcblc\">Payment Details</p>\n                        <hr style=\"border-color:#eeeeee;margin:10px 0px;\">\n                        <div class=\"row marzeros\">\n                            <ul class=\"summaryul\">\n                                <li>\n                                    <span class=\"summaryleft\">Payment date</span>\n                                    <span class=\"summaryright\">{{new Date().getDate()}}-{{new Date().getMonth() + 1}}-{{new Date().getFullYear()}}</span>\n                                </li>\n                                 <li>\n                                    <span class=\"summaryleft\">Type of payment</span>\n                                    <span class=\"summaryright\">{{transaction.mode_of_payment}}</span>\n                                </li>\n                                 <li>\n                                    <span class=\"summaryleft\">Rent month</span>\n                                    <span class=\"summaryright\">{{transaction.month}}-{{transaction.year}}</span>\n                                </li>\n                                <li style=\"clear:both;\"><hr style=\"border-color:#eeeeee;margin:10px 0px;\"></li> \n                                <li>\n                                    <span class=\"summaryleft\"><strong>Amount</strong></span>\n                                    <span class=\"summaryright\"><strong>{{transaction.rent_amount}}</strong></span>\n                                </li>\n                            </ul>\n                        </div>\n                    </div><br>\n                    <div class=\"text-center\" style=\"margin: 0px 15px;\">\n                        <button type=\"submit\" v-on:click=\"finddata\" class=\"btn btn-info\" style=\"width:100%;background:#0071bc;border-color:#0071bc;color:#ffffff;\">Make Payment</button>\n                    </div>\n                </div>\n              </div>\n            </div>\n          </form>\n        </div>\n</template>\n\n<script>\nimport {localstore} from '../../../main.js'\nimport axios from 'axios'\nexport default {\n\n    data(){\n      return {\n        filled:0,\n        left_amount:0,\n        types1:0,\n        types2:0,\n        types3:0,\n        pan_doc_need:0,\n        imageUpload:0,\n        filevalid:true,\n        filevalid_format:true,\n        property:{\n          Property_name : localstore.details.Property_name,\n          Security_deposit_amount : localstore.details.Security_deposit_amount,\n          Rent_amount : localstore.details.Rent_amount,\n          Maintenance_amount : localstore.details.Maintenance_amount,\n          Maintenance_due_date : localstore.details.Maintenance_due_date,\n          Rent_due_date : localstore.details.Rent_due_date,\n          Staying_since : localstore.details.Staying_since,\n          deposit : localstore.details.deposit,\n          Door_number : localstore.details.Door_number,\n          Society : localstore.details.Society,\n          Area : localstore.details.Area,\n          City : localstore.details.City,\n          State : localstore.details.State,\n          Pin : localstore.details.Pin,\n          Landlord_name : localstore.details.Landlord_name,\n          Account_holder_name : localstore.details.Account_holder_name,\n          Bank_name : localstore.details.Bank_name,\n          IFSC : localstore.details.IFSC,\n          Account_number : localstore.details.Account_number,\n          Landlord_city : localstore.details.Landlord_city,\n          Landlord_state : localstore.details.Landlord_state,\n          Landlord_PAN_number : localstore.details.Landlord_PAN_number,\n          startdate_agreement : localstore.details.startdate_agreement,\n          enddate_agreement : localstore.details.enddate_agreement,\n          property_image : localstore.details.property_image,\n          property_image_name : localstore.details.property_image_name,\n          pan_doc : localstore.details.pan_doc,\n          pan_doc_name : localstore.details.pan_doc_name,\n          rent_agreement : localstore.details.rent_agreement,\n          rent_agreement_name : localstore.details.rent_agreement_name\n        },\n        transaction:{\n            property_id:localstore.details.property_id,\n            user_id:localstore.details.user_id,\n            landlord_id:localstore.details.landlord_id,\n            //tenant_name,\n            //tenant_address, \n            //tenant_phone, \n            landlord_name:localstore.details.Landlord_name,\n            landlord_address:localstore.details.Landlord_city+','+localstore.details.Landlord_state,\n            //landlord_phone:localstore.,\n            acc_holder_name:localstore.details.Account_holder_name,\n            acc_number:localstore.details.Account_number,\n            bank_name:localstore.details.Bank_name,\n            bank_ifsc:localstore.details.IFSC,\n            mode_of_payment:'',\n            date:'',\n            month:'',\n            year:'',\n            rent_month:'', \n            rent_amount:'',\n            remarks:'',\n            tenant_PAN_Number:'',\n            tenant_pan_doc:'',\n            tenant_pan_doc_name:''\n        },        \n        amount_to_pay_Maintenance:localstore.details.Maintenance_amount,\n        amount_to_pay_Security:localstore.details.Security_deposit_amount,\n        amount_to_pay_Rent:localstore.details.Rent_amount\n     };\n  },\n  mounted(){\n    localstore.user.user_id = JSON.stringify(localStorage.getItem('user_id'));\n    localstore.user.token = JSON.stringify(localStorage.getItem('token'));\n    localstore.user.name = JSON.stringify(localStorage.getItem('name'));\n    localstore.user.email = JSON.stringify(localStorage.getItem('email'));\n    localstore.user.mobile = JSON.stringify(localStorage.getItem('mobile'));\n    localstore.details.user_id = JSON.stringify(localStorage.getItem('user_id'));\n    localstore.details.token = JSON.stringify(localStorage.getItem('token'));\n    var i=0;\n    this.transaction.month = new Date().getMonth() + 1;\n    this.transaction.year = new Date().getFullYear();\n    let self = this;\n    axios.get('http://127.0.0.1:8000/api/gettransaction/'+localstore.details.property_id)\n          .then(function (response) {\n            if(response.data.status==\"SUCCESS\")\n            {\n              self.amount_to_pay_Security=response.data.data.rent_deposit;\n              self.amount_to_pay_Maintenance=response.data.data.maintenance;\n              self.amount_to_pay_Rent=response.data.data.rent;\n            }\n          })\n          .catch((error) => alert(error));\n\n  },\n  methods :\n  {\n    pan_need(){\n      if(this.transaction.rent_amount > 50000)\n        this.pan_doc_need=1;\n      else\n        this.pan_doc_need=0;\n    },\n    type1(){\n      this.transaction.mode_of_payment='Rent';\n      this.types1=1;\n      this.types2=0;\n      this.types3=0;\n      this.transaction.rent_amount=this.amount_to_pay_Rent;\n      if(this.transaction.rent_amount > 50000)\n        this.pan_doc_need=1;\n    },\n    type2(){\n      this.transaction.mode_of_payment='Rent Deposit';\n      this.types2=1;\n      this.types1=0;\n      this.types3=0;\n      this.transaction.rent_amount=this.amount_to_pay_Maintenance;\n      if(this.transaction.rent_amount > 50000)\n        this.pan_doc_need=1;\n    },\n    type3(){\n      this.transaction.mode_of_payment='Maintenance';\n      this.types3=1;\n      this.types2=0;\n      this.types1=0;\n      this.transaction.rent_amount=this.amount_to_pay_Security;\n      if(this.transaction.rent_amount > 50000)\n        this.pan_doc_need=1;\n    },\n    onFileChange(e) {\n      this.imageUpload=1;\n          let files = e.target.files || e.dataTransfer.files;\n            if (!files.length)\n                  return;\n            if(files[0].size > 500 * 1024)\n              this.filevalid=false;\n            else\n              this.filevalid=true;\n            if(files[0].type!=\"application/pdf\" && files[0].type!=\"image/png\" && files[0].type!=\"image/jpeg\")\n              this.filevalid_format=false;\n            else\n              this.filevalid_format=true;\n            this.createImage(files[0]);\n            this.property.pan_doc_name=files[0];\n        },\n        createImage(file) {\n          let reader = new FileReader();\n          reader.onload = (e) => {\n              this.property.pan_doc = e.target.result;\n          };\n          reader.readAsDataURL(file);\n        },\n        finddata(){\n          console.log(JSON.stringify(this.transaction)); \n        },\n    SubmitTransaction(){\n          let self = this;\n          this.transaction.rent_month=this.transaction.month+'-'+this.transaction.year;\n          console.log(JSON.stringify(this.transaction));\n          window.open(\"http://127.0.0.1:8000/api/checktransaction/\",\"PaymentGateWay\");\n          /*axios.post('http://127.0.0.1:8000/api/posttransaction',this.transaction)\n              .then((response) => {\n                console.log(response);\n                if(response.data.status==\"SUCCESS\")\n                { \n                  localstore.transaction.mode_of_payment=self.transaction.mode_of_payment,\n                  localstore.transaction.date=self.transaction.date,\n                  localstore.transaction.rent_month=self.transaction.rent_month;\n                  localstore.transaction.rent_amount=self.transaction.rent_amount;\n                  localstore.transaction.remarks=self.transaction.remarks;\n                  self.$router.push('/transactionview');\n                }\n              })\n              .catch((error) => {\n                  alert(error);\n              })*/\n          }\n\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n .marcustradio{\n    margin-left: 0px;\n    margin-right: 20px;\n }\ninput[type=radio]:checked + label{\n    color: #0071bc;\n    font-weight: 600;\n}\n.summarybox{\n    border: 1px solid #D5D5D5;\n    padding: 10px;\n}\n.summaryul{\n    padding-left: 0px;\n    list-style: none;\n}\n.summaryul li{\n    line-height: 36px;\n}\n.summaryleft{\n    float: left;\n    width: 50%;\n    text-align: left;\n    word-break: break-word;\n}\n.summaryright{\n    float: right;\n    width: 48%;\n    text-align: right;\n}\n.fon18{\n    font-size: 18px;\n}\n.drcclr{\n    color: #546E7A;\n}\n</style>"]}]}